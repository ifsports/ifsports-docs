{"openapi":"3.1.0","info":{"title":"Calendar Service","description":"Serviço de integração com Google Calendar para IF Sports","version":"1.0.0"},"paths":{"/api/v1/calendar/auth/login":{"get":{"tags":["Calendar"],"summary":"Get Auth Url","description":"Endpoint para o frontend obter a URL de autorização do Google.\nO frontend deve redirecionar o usuário para esta URL.","operationId":"get_auth_url_api_v1_calendar_auth_login_get","parameters":[{"name":"user_email","in":"query","required":true,"schema":{"type":"string","title":"User Email"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthURLResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/calendar/auth/callback":{"get":{"tags":["Calendar"],"summary":"Auth Callback","description":"Endpoint de callback. O Google redireciona o usuário para cá após o login.\nEste endpoint não deve ser chamado diretamente pelo frontend.\nO email do usuário precisa ser passado de alguma forma, o `state` é ideal para isso.","operationId":"auth_callback_api_v1_calendar_auth_callback_get","parameters":[{"name":"code","in":"query","required":true,"schema":{"type":"string","title":"Code"}},{"name":"state","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"State"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/calendar/events":{"post":{"tags":["Calendar"],"summary":"Create Event","description":"Cria um evento na agenda do usuário. Requer que o usuário já tenha autenticado.","operationId":"create_event_api_v1_calendar_events_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CalendarEventCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AuthURLResponse":{"properties":{"authorization_url":{"type":"string","title":"Authorization Url"}},"type":"object","required":["authorization_url"],"title":"AuthURLResponse"},"CalendarEventCreate":{"properties":{"user_email":{"type":"string","format":"email","title":"User Email"},"match_details":{"items":{"$ref":"#/components/schemas/MatchDetails"},"type":"array","title":"Match Details"}},"type":"object","required":["user_email","match_details"],"title":"CalendarEventCreate"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MatchDetails":{"properties":{"summary":{"type":"string","title":"Summary"},"description":{"type":"string","title":"Description"},"start_time":{"type":"string","format":"date-time","title":"Start Time"},"end_time":{"type":"string","format":"date-time","title":"End Time"},"location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location","default":"Ginásio IFRN"}},"type":"object","required":["summary","description","start_time","end_time"],"title":"MatchDetails"},"StatusResponse":{"properties":{"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"}},"type":"object","required":["status","message"],"title":"StatusResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}